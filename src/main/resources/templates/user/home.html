<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout-user.html}">
<head>
    <meta charset="UTF-8">
    <title>User Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body>
<header>
</header>
<main>
    <div layout:fragment="content" class="album-grid">
        <h1>Welcome, <span th:text="${username}"></span></h1>
        <a th:href="@{/home/albums/{id}(id=${album.id})}" th:each="album: ${albums}">
            <div class="w-1/12 aspect-square rounded relative">
                <img class="w-full h-full object-cover rounded" th:if="${albumCovers.containsKey(album.id)}"
                     th:src="'data:' + ${album.coverImage.type} + ';base64,' + ${albumCovers[album.id]}" alt="Album Cover">
                <h3 style="height: 20%;" th:text="${album.title}"
                    class="font-mono absolute bottom-0 w-full bg-black bg-opacity-50 text-white text-center py-1 text-sm font-normal">
                </h3>
            </div>
        </a>
        <form th:action="@{/home/albums/create}" th:method="get">
            <button id="create-album-btn" title="Create new album" type="submit"
                    class="text-2xl fixed bottom-4 right-4 bg-blue-500 hover:bg-blue-700 text-white rounded-full w-16 h-16 flex items-center justify-center transition-colors duration-300">+</button>
        </form>
    </div>

    </main>
</body>
</html>